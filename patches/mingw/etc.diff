diff -ruN mingw/etc/profile dreamsdk/etc/profile
--- mingw/etc/profile	2009-07-11 21:34:34.000000000 +0200
+++ dreamsdk/etc/profile	2025-08-23 23:55:32.593638800 +0200
@@ -4,7 +4,7 @@
 # 
 #         File:	profile
 #  Description:	Shell environment initialization script
-# Last Revised:	2002.05.04
+# Last Revised:	2025.08.23 (DreamSDK)
 
 if [ -z "$MSYSTEM" ]; then
   MSYSTEM=MINGW32
@@ -43,12 +43,6 @@
 
 export HOME LOGNAME MSYSTEM HISTFILE
 
-for i in /etc/profile.d/*.sh ; do
-  if [ -f $i ]; then
-    . $i
-  fi
-done
-
 export MAKE_MODE=unix
 export PS1='\[\033]0;$MSYSTEM:\w\007
 \033[32m\]\u@\h \[\033[33m\w\033[0m\]
@@ -56,5 +50,26 @@
 
 alias clear=clsb
 
-cd "$HOME"
-
+################################################################################
+#    ___                     _______  __ __
+#   / _ \_______ ___ ___ _  / __/ _ \/ //_/
+#  / // / __/ -_) _ \`/  ' \_\ \/ // /  ,<
+# /____/_/  \__/\_,_/_/_/_/___/____/_/|_|
+#                                        
+################################################################################
+
+# Clearly identify the MinGW/MSYS environment
+export MSYS_LEGACY=1
+
+# This is a boot loader that runs all scripts in the "/etc/profile.d" directory.
+# This avoids having to modify this script later.
+# This code already existed in this file, but it was moved to the end to ensure
+# it runs after the MSYS initialization code.
+if [ -d /etc/profile.d ]; then
+  for script in /etc/profile.d/*.sh; do
+    if [ -r "$script" ]; then
+      . "$script"
+    fi
+  done
+  unset script
+fi
