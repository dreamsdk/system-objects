--- profile	2009-07-11 18:34:34 +0000
+++ profile.dcsdk	2018-10-25 22:32:48 +0000
@@ -56,5 +56,35 @@
 
 alias clear=clsb
 
-cd "$HOME"
+#cd "$HOME"
 
+# --- DreamSDK Additions ---
+
+# Dreamcast SDK base directory
+export DCSDK_BASE=/opt/toolchains/dc
+
+# Force GNU compilers to be in English language
+export LANG=en
+
+# Initialize KallistiOS
+source $DCSDK_BASE/kos/environ.sh
+
+# Add additional items in the PATH
+export PATH="${PATH}:/opt/upx/:${DCSDK_BASE}/mingw/"
+
+# By default, MSYS is always switching to the home directory.
+# We don't want this, as we will allow to open a shell in a specific folder and
+# run some commands from there directly from the prompt.
+# This is caused by the --login switch, but we need to execute commands stored
+# in this file. And it smoothly works like this so...
+if [ -z "$_EXTERNAL_COMMAND" ]; then
+  # Default usage (as normal MSYS instance)
+  cd "$HOME"
+else
+  # Command passed to the dcsdk-launcher
+  $_EXTERNAL_COMMAND
+  if [ -z "$_AUTOMATED_CALL" ]; then
+    pause
+  fi
+  logout
+fi
